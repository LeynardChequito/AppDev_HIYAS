{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-43a3e4e8\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"row one justify-center\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"notification-card\"\n};\nconst _hoisted_3 = {\n  class: \"scrollable-list\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"row\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"row col-5 items-start q-pa-md\"\n}, \"Notifications\")], -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_q_icon = _resolveComponent(\"q-icon\");\n  const _component_q_badge = _resolveComponent(\"q-badge\");\n  const _component_q_btn = _resolveComponent(\"q-btn\");\n  const _component_q_separator = _resolveComponent(\"q-separator\");\n  const _component_q_avatar = _resolveComponent(\"q-avatar\");\n  const _component_q_item_section = _resolveComponent(\"q-item-section\");\n  const _component_q_item_label = _resolveComponent(\"q-item-label\");\n  const _component_q_item = _resolveComponent(\"q-item\");\n  const _component_q_list = _resolveComponent(\"q-list\");\n  const _component_q_card = _resolveComponent(\"q-card\");\n  const _directive_ripple = _resolveDirective(\"ripple\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_q_btn, {\n    dense: \"\",\n    round: \"\",\n    color: $setup.buttonColor,\n    class: \"q-mr-md no-shadow\",\n    onClick: $setup.toggleNotification\n  }, {\n    default: _withCtx(() => [_createVNode(_component_q_icon, {\n      name: \"notifications\",\n      style: {\n        \"color\": \"black\"\n      }\n    }), _createVNode(_component_q_badge, {\n      color: \"red\",\n      floating: \"\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"4\")]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"color\", \"onClick\"]), _createElementVNode(\"div\", _hoisted_1, [$setup.cardVisible ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_q_card, {\n    bordered: \"\",\n    class: \"my-card\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_q_list, {\n      bordered: \"\",\n      class: \"rounded-borders\"\n    }, {\n      default: _withCtx(() => [_hoisted_4, _createVNode(_component_q_separator, {\n        spaced: \"\"\n      }), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.notificationItems, item => {\n        return _openBlock(), _createElementBlock(_Fragment, {\n          key: item.id\n        }, [_withDirectives((_openBlock(), _createBlock(_component_q_item, {\n          clickable: \"\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_q_item_section, {\n            top: \"\",\n            avatar: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_q_avatar, {\n              color: \"primary\",\n              \"text-color\": \"white\",\n              icon: \"bluetooth\"\n            })]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_q_item_section, null, {\n            default: _withCtx(() => [_createVNode(_component_q_item_label, null, {\n              default: _withCtx(() => [_createTextVNode(_toDisplayString(item.title), 1 /* TEXT */)]),\n\n              _: 2 /* DYNAMIC */\n            }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_q_item_label, {\n              caption: \"\",\n              lines: \"2\"\n            }, {\n              default: _withCtx(() => [_createTextVNode(_toDisplayString(item.description), 1 /* TEXT */)]),\n\n              _: 2 /* DYNAMIC */\n            }, 1024 /* DYNAMIC_SLOTS */)]),\n\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_q_item_section, {\n            side: \"\",\n            top: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_q_item_label, {\n              caption: \"\"\n            }, {\n              default: _withCtx(() => [_createTextVNode(_toDisplayString(item.time), 1 /* TEXT */)]),\n\n              _: 2 /* DYNAMIC */\n            }, 1024 /* DYNAMIC_SLOTS */), item.starred ? (_openBlock(), _createBlock(_component_q_icon, {\n              key: 0,\n              name: \"star\",\n              color: \"yellow\"\n            })) : _createCommentVNode(\"v-if\", true)]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */)]),\n\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */)), [[_directive_ripple]]), _createVNode(_component_q_separator, {\n          spaced: \"\"\n        })], 64 /* STABLE_FRAGMENT */);\n      }), 128 /* KEYED_FRAGMENT */))]),\n\n      _: 1 /* STABLE */\n    })])]),\n\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.handleGlobalClick && $setup.handleGlobalClick(...args))\n  })])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","_createVNode","_component_q_btn","dense","round","color","$setup","buttonColor","onClick","toggleNotification","_component_q_icon","name","style","_component_q_badge","floating","_hoisted_1","cardVisible","_createElementBlock","_hoisted_2","_component_q_card","bordered","_hoisted_3","_component_q_list","_hoisted_4","_component_q_separator","spaced","_Fragment","_renderList","notificationItems","item","id","_createBlock","_component_q_item","clickable","_component_q_item_section","top","avatar","_component_q_avatar","icon","_component_q_item_label","title","caption","lines","description","side","time","starred","_cache","args","handleGlobalClick"],"sources":["C:\\Users\\user\\OneDrive\\Desktop\\HiyasProject\\src\\components\\Notifications.vue"],"sourcesContent":["<template>\r\n    <q-btn dense round :color=\"buttonColor\" class=\"q-mr-md no-shadow\" @click=\"toggleNotification\">\r\n        <q-icon name=\"notifications\" style=\"color: black;\" />\r\n        <q-badge color=\"red\" floating>4</q-badge>\r\n    </q-btn>\r\n\r\n    <div class=\"row one justify-center\">\r\n        <div class=\"notification-card\" v-if=\"cardVisible\">\r\n            <q-card bordered class=\"my-card\">\r\n                <div class=\"scrollable-list\">\r\n                    <q-list bordered class=\"rounded-borders\">\r\n                        <div class=\"row\">\r\n                            <div class=\"row col-5 items-start q-pa-md\">Notifications</div>\r\n                        </div>\r\n                        <q-separator spaced />\r\n\r\n                        <template v-for=\"item in notificationItems\" :key=\"item.id\">\r\n                            <q-item clickable v-ripple>\r\n                                <q-item-section top avatar>\r\n                                    <q-avatar color=\"primary\" text-color=\"white\" icon=\"bluetooth\" />\r\n                                </q-item-section>\r\n\r\n                                <q-item-section>\r\n                                    <q-item-label>{{ item.title }}</q-item-label>\r\n                                    <q-item-label caption lines=\"2\">{{ item.description }}</q-item-label>\r\n                                </q-item-section>\r\n\r\n                                <q-item-section side top>\r\n                                    <q-item-label caption>{{ item.time }}</q-item-label>\r\n                                    <q-icon v-if=\"item.starred\" name=\"star\" color=\"yellow\" />\r\n                                </q-item-section>\r\n                            </q-item>\r\n                            <q-separator spaced />\r\n                        </template>\r\n                    </q-list>\r\n                </div>\r\n            </q-card>\r\n        </div>\r\n        <div @click=\"handleGlobalClick\"></div>\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\nimport { ref, computed, onMounted, onBeforeUnmount } from 'vue';\r\n\r\nexport default {\r\n    setup() {\r\n        const cardVisible = ref(false);\r\n        const clicked = ref(false);\r\n\r\n        const toggleNotification = () => {\r\n            cardVisible.value = !cardVisible.value;\r\n            clicked.value = !clicked.value; // Toggle the 'clicked' state\r\n        };\r\n\r\n        // Computed property to calculate button color based on 'clicked' state\r\n        const buttonColor = computed(() => (clicked.value ? 'grey' : '')); // Set to 'red' when clicked, else empty\r\n\r\n        const notificationItems = [\r\n            { id: 1, title: 'Single line item', description: 'Secondary line text. Lorem ipsum dolor sit amet, consectetur adipiscit elit.', time: '5 min ago', starred: true },\r\n            { id: 1, title: 'Single line item', description: 'Secondary line text. Lorem ipsum dolor sit amet, consectetur adipiscit elit.', time: '5 min ago', starred: true },\r\n            { id: 1, title: 'Single line item', description: 'Secondary line text. Lorem ipsum dolor sit amet, consectetur adipiscit elit.', time: '5 min ago', starred: true },\r\n            { id: 1, title: 'Single line item', description: 'Secondary line text. Lorem ipsum dolor sit amet, consectetur adipiscit elit.', time: '5 min ago', starred: true },\r\n            { id: 1, title: 'Single line item', description: 'Secondary line text. Lorem ipsum dolor sit amet, consectetur adipiscit elit.', time: '5 min ago', starred: true },\r\n            { id: 1, title: 'Single line item', description: 'Secondary line text. Lorem ipsum dolor sit amet, consectetur adipiscit elit.', time: '5 min ago', starred: true },\r\n            { id: 1, title: 'Single line item', description: 'Secondary line text. Lorem ipsum dolor sit amet, consectetur adipiscit elit.', time: '5 min ago', starred: true },\r\n            { id: 1, title: 'Single line item', description: 'Secondary line text. Lorem ipsum dolor sit amet, consectetur adipiscit elit.', time: '5 min ago', starred: true },\r\n            { id: 1, title: 'Single line item', description: 'Secondary line text. Lorem ipsum dolor sit amet, consectetur adipiscit elit.', time: '5 min ago', starred: true },\r\n            // Add more items as needed\r\n        ];\r\n\r\n         const handleGlobalClick = (event) => {\r\n      // Check if the clicked element is outside the button and the notification card\r\n      const isOutsideButton = !event.target.closest('.q-btn');\r\n      const isOutsideNotificationCard = !event.target.closest('.notification-card');\r\n\r\n      // Close the notification card if it's open and the click is outside both the button and the card\r\n      if (cardVisible.value && isOutsideButton && isOutsideNotificationCard) {\r\n        cardVisible.value = false;\r\n        clicked.value = false;\r\n      }\r\n    };\r\n\r\n    // Close the notification card when a global click event is emitted from another component\r\n    const closeNotificationCard = () => {\r\n      cardVisible.value = false;\r\n      clicked.value = false;\r\n    };\r\n\r\n    // Add and remove the global click event listener when the component is mounted and unmounted\r\n    onMounted(() => {\r\n      document.addEventListener('click', handleGlobalClick);\r\n    });\r\n\r\n    onBeforeUnmount(() => {\r\n      document.removeEventListener('click', handleGlobalClick);\r\n    });\r\n\r\n    // Listen for global events from other components\r\n    window.addEventListener('closeNotificationCard', closeNotificationCard);\r\n\r\n\r\n        return {\r\n            cardVisible,\r\n            toggleNotification,\r\n            buttonColor, // Expose the computed 'buttonColor' to the template\r\n            notificationItems,\r\n            handleGlobalClick,\r\n        };\r\n    },\r\n};\r\n</script>\r\n  \r\n<style lang=\"sass\" scoped>\r\n  .my-card\r\n    width: 350px\r\n    max-width: 100%\r\n    color: black\r\n  \r\n  .scrollable-list\r\n    max-height: 450px \r\n    overflow-y: auto\r\n  \r\n  .one\r\n    background-color: black\r\n  \r\n  .notification-card\r\n    position: absolute\r\n    z-index: 1\r\n    top: 0\r\n    right: 0\r\n    margin-top: 55px\r\n    margin-right: 10px\r\n  </style>\r\n  "],"mappings":";;;EAMSA,KAAK,EAAC;AAAwB;;;EAC1BA,KAAK,EAAC;;;EAEEA,KAAK,EAAC;AAAiB;gEAEpBC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAK,I,aACZC,mBAAA,CAA8D;EAAzDD,KAAK,EAAC;AAA+B,GAAC,eAAa,E;;;;;;;;;;;;;;6DAXhFE,YAAA,CAGQC,gBAAA;IAHDC,KAAK,EAAL,EAAK;IAACC,KAAK,EAAL,EAAK;IAAEC,KAAK,EAAEC,MAAA,CAAAC,WAAW;IAAER,KAAK,EAAC,mBAAmB;IAAES,OAAK,EAAEF,MAAA,CAAAG;;sBACtE,MAAqD,CAArDR,YAAA,CAAqDS,iBAAA;MAA7CC,IAAI,EAAC,eAAe;MAACC,KAAqB,EAArB;QAAA;MAAA;QAC7BX,YAAA,CAAyCY,kBAAA;MAAhCR,KAAK,EAAC,KAAK;MAACS,QAAQ,EAAR;;wBAAS,MAAC,C,iBAAD,GAAC,E;;;;;2CAGnCd,mBAAA,CAiCM,OAjCNe,UAiCM,GAhCmCT,MAAA,CAAAU,WAAW,I,cAAhDC,mBAAA,CA8BM,OA9BNC,UA8BM,GA7BFjB,YAAA,CA4BSkB,iBAAA;IA5BDC,QAAQ,EAAR,EAAQ;IAACrB,KAAK,EAAC;;sBACnB,MA0BM,CA1BNC,mBAAA,CA0BM,OA1BNqB,UA0BM,GAzBFpB,YAAA,CAwBSqB,iBAAA;MAxBDF,QAAQ,EAAR,EAAQ;MAACrB,KAAK,EAAC;;wBACnB,MAEM,CAFNwB,UAEM,EACNtB,YAAA,CAAsBuB,sBAAA;QAATC,MAAM,EAAN;MAAM,K,kBAEnBR,mBAAA,CAiBWS,SAAA,QAAAC,WAAA,CAjBcrB,MAAA,CAAAsB,iBAAiB,EAAzBC,IAAI;;eAA6BA,IAAI,CAACC;2CACnDC,YAAA,CAcSC,iBAAA;UAdDC,SAAS,EAAT;QAAS;4BACb,MAEiB,CAFjBhC,YAAA,CAEiBiC,yBAAA;YAFDC,GAAG,EAAH,EAAG;YAACC,MAAM,EAAN;;8BAChB,MAAgE,CAAhEnC,YAAA,CAAgEoC,mBAAA;cAAtDhC,KAAK,EAAC,SAAS;cAAC,YAAU,EAAC,OAAO;cAACiC,IAAI,EAAC;;;cAGtDrC,YAAA,CAGiBiC,yBAAA;8BAFb,MAA6C,CAA7CjC,YAAA,CAA6CsC,uBAAA;gCAA/B,MAAgB,C,kCAAbV,IAAI,CAACW,KAAK,iB;;;0CAC3BvC,YAAA,CAAqEsC,uBAAA;cAAvDE,OAAO,EAAP,EAAO;cAACC,KAAK,EAAC;;gCAAI,MAAsB,C,kCAAnBb,IAAI,CAACc,WAAW,iB;;;;;;wCAGvD1C,YAAA,CAGiBiC,yBAAA;YAHDU,IAAI,EAAJ,EAAI;YAACT,GAAG,EAAH;;8BACjB,MAAoD,CAApDlC,YAAA,CAAoDsC,uBAAA;cAAtCE,OAAO,EAAP;YAAO;gCAAC,MAAe,C,kCAAZZ,IAAI,CAACgB,IAAI,iB;;;0CACpBhB,IAAI,CAACiB,OAAO,I,cAA1Bf,YAAA,CAAyDrB,iBAAA;;cAA7BC,IAAI,EAAC,MAAM;cAACN,KAAK,EAAC;;;;;;+DAGtDJ,YAAA,CAAsBuB,sBAAA;UAATC,MAAM,EAAN;QAAM,G;;;;;;;6CAMvCzB,mBAAA,CAAsC;IAAhCQ,OAAK,EAAAuC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAE1C,MAAA,CAAA2C,iBAAA,IAAA3C,MAAA,CAAA2C,iBAAA,IAAAD,IAAA,CAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}